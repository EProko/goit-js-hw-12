import{a as u,S as b,i as l}from"./assets/vendor-b42c18af.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();u.defaults.baseURL="https://pixabay.com/api";const p="41755914-7aa1ef8e2afd56281fb8e3373";let d;async function F(s,t){return d=1,await u.get(`/?key=${p}&q=${s}&image_type=photo&orientation=horizontal&safesearch=true&page=${t}&per_page=15`)}async function $(s){return d++,await u.get(`/?key=${p}&q=${s}&image_type=photo&orientation=horizontal&safesearch=true&page=${d}&per_page=15`)}function P(s,t){const e=s.map(r=>`<li class="gallery-card"><a class="gallery-link" href="${r.href}"><img class="gallery-image" src="${r.src}" alt="${r.alt}" /><div class="image-stats-card"><div class="image-stats-block"><p>Likes</p>${r.likes}</div><div class="image-stats-block"><p>Views</p>${r.views}</div><div class="image-stats-block"><p>Comments</p>${r.comments}</div><div class="image-stats-block"><p>Downloads</p>${r.downloads}</div></div></a></li>`).join("");t.insertAdjacentHTML("beforeend",e)}const h=document.querySelector(".search-form"),f=document.querySelector(".loader"),y=document.querySelector(".gallery"),m=document.querySelector('[data-action ="load-more"]'),S=new b(".gallery .gallery-link",{captions:!0,captionsData:"alt",captionPosition:"bottom"});i();n();h.addEventListener("submit",q);let g=[],v,k=1;function q(s){s.preventDefault(),w(),y.innerHTML="";const t=encodeURIComponent(s.target.elements.search.value);if(v=t,t===""){l.error({message:"Please enter your search query!",messageColor:"#FFF",messageSize:"16",backgroundColor:"#EF4040",position:"topRight",icon:"ico-error",iconColor:"#FFF"}),n();return}F(t,k).then(e=>{e.data.total===0?(l.error({message:"Sorry, there are no images matching your search query. Please, try again!",messageColor:"#FFF",messageSize:"16",backgroundColor:"#EF4040",position:"topRight",icon:"ico-error",iconColor:"#FFF"}),i(),n()):(L(e),h.reset())}).catch(e=>{alert(e.message),n()})}m.addEventListener("click",C);function C(){i(),w(),$(v).then(r=>{L(r)}).catch(r=>alert(r.message));const e={top:document.querySelector(".gallery-card").getBoundingClientRect().height*2,behavior:"smooth"};window.scrollBy(e)}function L(s){const t=s.data.hits;g=t.map(e=>({href:e.largeImageURL,src:e.webformatURL,alt:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads})),P(g,y),S.refresh(),t.length<15?(n(),i(),l.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."})):(n(),E())}function w(){f.style.display="block"}function n(){f.style.display="none"}function i(){m.classList.add("is-hidden")}function E(){m.classList.remove("is-hidden")}
//# sourceMappingURL=commonHelpers.js.map

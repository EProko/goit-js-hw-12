import{a as u,S as b,i as d}from"./assets/vendor-b42c18af.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();u.defaults.baseURL="https://pixabay.com/api";const g="41755914-7aa1ef8e2afd56281fb8e3373";async function F(r,t){return await u.get(`/?key=${g}&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&page=${t}&per_page=15`)}async function P(r,t){return await u.get(`/?key=${g}&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&page=${t}&per_page=15`)}function $(r,t){const e=r.map(s=>`<li class="gallery-card"><a class="gallery-link" href="${s.href}"><img class="gallery-image" src="${s.src}" alt="${s.alt}" /><div class="image-stats-card"><div class="image-stats-block"><p>Likes</p>${s.likes}</div><div class="image-stats-block"><p>Views</p>${s.views}</div><div class="image-stats-block"><p>Comments</p>${s.comments}</div><div class="image-stats-block"><p>Downloads</p>${s.downloads}</div></div></a></li>`).join("");t.insertAdjacentHTML("beforeend",e)}const h=document.querySelector(".search-form"),f=document.querySelector(".loader"),y=document.querySelector(".gallery"),m=document.querySelector('[data-action ="load-more"]'),S=new b(".gallery .gallery-link",{captions:!0,captionsData:"alt",captionPosition:"bottom"});c();n();h.addEventListener("submit",q);let p=[],v,i=1;const k=500/15;function q(r){r.preventDefault(),w(),y.innerHTML="";const t=encodeURIComponent(r.target.elements.search.value);if(v=t,t===""){d.error({message:"Please enter your search query!",messageColor:"#FFF",messageSize:"16",backgroundColor:"#EF4040",position:"topRight",icon:"ico-error",iconColor:"#FFF"}),n();return}F(t,i).then(e=>{e.data.total===0?(d.error({message:"Sorry, there are no images matching your search query. Please, try again!",messageColor:"#FFF",messageSize:"16",backgroundColor:"#EF4040",position:"topRight",icon:"ico-error",iconColor:"#FFF"}),c(),n()):(L(e),h.reset())}).catch(e=>{console.log(e),n()})}m.addEventListener("click",C);async function C(){if(i>k)return c(),d.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."});c(),w(),i++,await P(v,i).then(s=>{L(s)});const e={top:document.querySelector(".gallery-card").getBoundingClientRect().height*2,behavior:"smooth"};window.scrollBy(e)}function L(r){p=r.data.hits.map(e=>({href:e.largeImageURL,src:e.webformatURL,alt:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads})),$(p,y),S.refresh(),n(),E()}function w(){f.style.display="block"}function n(){f.style.display="none"}function c(){m.classList.add("is-hidden")}function E(){m.classList.remove("is-hidden")}
//# sourceMappingURL=commonHelpers.js.map
